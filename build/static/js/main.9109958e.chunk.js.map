{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","services/api.js","components/App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Modal/Modal.module.css","components/App.module.css"],"names":["module","exports","SearchForm","state","value","handleInput","target","setState","onSubmit","e","preventDefault","props","handleSubmit","reset","this","className","styles","searchForm","type","autoComplete","onChange","placeholder","Component","Modal","createdRefs","React","createRef","handleCloseEscape","key","handleCloseModal","handleCloseClick","current","window","addEventListener","console","log","removeEventListener","largeURL","ref","overlay","onClick","modal","src","alt","PhotoCard","isOpen","handleOpenModal","webURL","likes","views","comments","downloads","photoCard","stats","statsItem","fullscreenButton","Gallery","items","modalIsOpen","gallery","map","item","id","fetchData","query","page","axios","get","mapper","arr","webformatURL","largeImageURL","App","list","counter","error","api","then","data","hits","catch","loadMore","length","scrollTo","top","document","body","scrollHeight","behavior","app","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9109958e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1C5vP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__icqQc\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = { value: '' };\n\n  static propTypes = {\n    handleSubmit: PropTypes.func.isRequired,\n  };\n\n  handleInput = ({ target }) => {\n    this.setState({ value: target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { value } = this.state;\n\n    this.props.handleSubmit(value);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <form className={styles.searchForm} onSubmit={this.onSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={value}\n          onChange={this.handleInput}\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  createdRefs = React.createRef();\n\n  static propTypes = {\n    largeURL: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseEscape);\n    console.log(this.createdRefs);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseEscape);\n  }\n\n  handleCloseEscape = e => {\n    if (e.key !== 'Escape') return;\n    this.props.handleCloseModal();\n  };\n\n  handleCloseClick = e => {\n    const { current } = this.createdRefs;\n\n    if (current !== e.target) return;\n    this.props.handleCloseModal();\n  };\n\n  render() {\n    const { largeURL } = this.props;\n\n    return (\n      <div\n        ref={this.createdRefs}\n        className={styles.overlay}\n        onClick={this.handleCloseClick}\n      >\n        <div className={styles.modal}>\n          <img src={largeURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class PhotoCard extends Component {\n  state = { isOpen: false };\n\n  static propTypes = {\n    webURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    largeURL: PropTypes.string.isRequired,\n  };\n\n  handleOpenModal = () => {\n    this.setState({ isOpen: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isOpen: false });\n  };\n\n  render() {\n    const { isOpen } = this.state;\n    const { webURL, likes, views, comments, downloads, largeURL } = this.props;\n\n    return (\n      <div className={styles.photoCard}>\n        <img src={webURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.handleOpenModal}\n          className={styles.fullscreenButton}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n        {isOpen && (\n          <Modal largeURL={largeURL} handleCloseModal={this.handleCloseModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ items, modalIsOpen, onClick }) => (\n  <ul className={styles.gallery}>\n    {items.map(item => (\n      <li key={item.id}>\n        <PhotoCard {...item} modalIsOpen={modalIsOpen} onClick={onClick} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default Gallery;\n","/* es-lint disable*/\n\nimport axios from 'axios';\n\nexport const fetchData = (query, page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=13104574-e8726bf8ce5565d5dafca0a13`,\n  );\n};\n","import React, { Component } from 'react';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport * as api from '../services/api';\nimport styles from './App.module.css';\n\nconst mapper = arr => {\n  return arr.map(\n    ({\n      webformatURL: webURL,\n      largeImageURL: largeURL,\n      id,\n      comments,\n      likes,\n      views,\n      downloads,\n    }) => ({\n      webURL,\n      largeURL,\n      id,\n      likes,\n      comments,\n      views,\n      downloads,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    list: [],\n    query: '',\n    counter: 2,\n    error: null,\n  };\n\n  componentDidMount() {\n    const { query } = this.state;\n\n    api\n      .fetchData(query)\n      .then(({ data }) => {\n        this.setState({ list: mapper(data.hits) });\n      })\n      .catch(error => this.setState({ error }));\n  }\n\n  componentDidUpdate() {\n    if (this.state.list.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleSubmit = query => {\n    this.setState({ query });\n\n    api\n      .fetchData(query)\n      .then(({ data }) => {\n        this.setState({ list: mapper(data.hits) });\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  loadMore = () => {\n    const { query, counter } = this.state;\n    this.setState(state => ({ counter: state.counter + 1 }));\n\n    api\n      .fetchData(query, counter)\n      .then(({ data }) => {\n        this.setState(state => ({\n          list: [...state.list, ...mapper(data.hits)],\n        }));\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  render() {\n    const { list, error } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchForm handleSubmit={this.handleSubmit} />\n        {list.length > 0 && (\n          <Gallery onClick={this.handleOpenModal} items={list} />\n        )}\n        {error && <h2>Sorry, something bad's happened...</h2>}\n        {list.length > 0 && (\n          <button\n            onClick={this.loadMore}\n            className={styles.button}\n            type=\"button\"\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import './common.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__25Hi8\",\"stats\":\"PhotoCard_stats__s-e3p\",\"statsItem\":\"PhotoCard_statsItem__21uTs\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__K---A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3gC6m\",\"modal\":\"Modal_modal__3dNTD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2Ts9x\",\"button\":\"App_button__3KJl9\"};"],"sourceRoot":""}