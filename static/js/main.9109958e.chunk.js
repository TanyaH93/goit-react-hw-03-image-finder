(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{20:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1C5vP"}},21:function(e,t,a){e.exports={gallery:"Gallery_gallery__icqQc"}},23:function(e,t,a){e.exports=a(46)},24:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);a(24);var n=a(0),o=a.n(n),r=a(19),l=a.n(r),s=a(9),c=a(2),i=a(3),u=a(5),m=a(4),d=a(20),h=a.n(d),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={value:""},e.handleInput=function(t){var a=t.target;e.setState({value:a.value})},e.onSubmit=function(t){t.preventDefault();var a=e.state.value;e.props.handleSubmit(a),e.reset()},e.reset=function(){e.setState({value:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.value;return o.a.createElement("form",{className:h.a.searchForm,onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",autoComplete:"off",value:e,onChange:this.handleInput,placeholder:"Search images..."}))}}]),a}(n.Component),f=a(6),v=a.n(f),b=a(7),y=a.n(b),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.createdRefs=o.a.createRef(),e.handleCloseEscape=function(t){"Escape"===t.key&&e.props.handleCloseModal()},e.handleCloseClick=function(t){e.createdRefs.current===t.target&&e.props.handleCloseModal()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseEscape),console.log(this.createdRefs)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseEscape)}},{key:"render",value:function(){var e=this.props.largeURL;return o.a.createElement("div",{ref:this.createdRefs,className:y.a.overlay,onClick:this.handleCloseClick},o.a.createElement("div",{className:y.a.modal},o.a.createElement("img",{src:e,alt:""})))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1},e.handleOpenModal=function(){e.setState({isOpen:!0})},e.handleCloseModal=function(){e.setState({isOpen:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.webURL,n=t.likes,r=t.views,l=t.comments,s=t.downloads,c=t.largeURL;return o.a.createElement("div",{className:v.a.photoCard},o.a.createElement("img",{src:a,alt:""}),o.a.createElement("div",{className:v.a.stats},o.a.createElement("p",{className:v.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:v.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:v.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),l),o.a.createElement("p",{className:v.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),o.a.createElement("button",{type:"button",onClick:this.handleOpenModal,className:v.a.fullscreenButton},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")),e&&o.a.createElement(g,{largeURL:c,handleCloseModal:this.handleCloseModal}))}}]),a}(n.Component),E=a(21),C=a.n(E),O=function(e){var t=e.items,a=e.modalIsOpen,n=e.onClick;return o.a.createElement("ul",{className:C.a.gallery},t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(_,Object.assign({},e,{modalIsOpen:a,onClick:n})))})))},k=a(22),w=a.n(k),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return w.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=13104574-e8726bf8ce5565d5dafca0a13"))},j=a(8),N=a.n(j),M=function(e){return e.map((function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.id,o=e.comments;return{webURL:t,largeURL:a,id:n,likes:e.likes,comments:o,views:e.views,downloads:e.downloads}}))},R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={list:[],query:"",counter:2,error:null},e.handleSubmit=function(t){e.setState({query:t}),S(t).then((function(t){var a=t.data;e.setState({list:M(a.hits)})})).catch((function(t){return e.setState({error:t})}))},e.loadMore=function(){var t=e.state,a=t.query,n=t.counter;e.setState((function(e){return{counter:e.counter+1}})),S(a,n).then((function(t){var a=t.data;e.setState((function(e){return{list:[].concat(Object(s.a)(e.list),Object(s.a)(M(a.hits)))}}))})).catch((function(t){return e.setState({error:t})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.query;S(t).then((function(t){var a=t.data;e.setState({list:M(a.hits)})})).catch((function(t){return e.setState({error:t})}))}},{key:"componentDidUpdate",value:function(){this.state.list.length>12&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.list,a=e.error;return o.a.createElement("div",{className:N.a.app},o.a.createElement(p,{handleSubmit:this.handleSubmit}),t.length>0&&o.a.createElement(O,{onClick:this.handleOpenModal,items:t}),a&&o.a.createElement("h2",null,"Sorry, something bad's happened..."),t.length>0&&o.a.createElement("button",{onClick:this.loadMore,className:N.a.button,type:"button"},"Load more"))}}]),a}(n.Component);l.a.render(o.a.createElement(R,null),document.getElementById("root"))},6:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__25Hi8",stats:"PhotoCard_stats__s-e3p",statsItem:"PhotoCard_statsItem__21uTs",fullscreenButton:"PhotoCard_fullscreenButton__K---A"}},7:function(e,t,a){e.exports={overlay:"Modal_overlay__3gC6m",modal:"Modal_modal__3dNTD"}},8:function(e,t,a){e.exports={app:"App_app__2Ts9x",button:"App_button__3KJl9"}}},[[23,1,2]]]);
//# sourceMappingURL=main.9109958e.chunk.js.map